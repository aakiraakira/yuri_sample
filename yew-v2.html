<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & Meta (Verbatim) -->
    <title>Yew X1 Digital Lock — Facial Recognition, Built-In Viewer, Live View | $899 SGD</title>
    <meta name="description" content="Yew X1 combines facial recognition, fingerprint, PIN, card, and app control with a built-in viewer and live view. Free installation, 5-year local warranty, 24/7 support.">
    <link rel="canonical" href="https://yewdigitallock.com.sg/product/yew-x1">
    
    <!-- Open Graph / Twitter -->
    <meta property="og:title" content="Yew X1 Digital Lock — Facial Recognition, Built-In Viewer, Live View | $899 SGD">
    <meta property="og:description" content="Yew X1 combines facial recognition, fingerprint, PIN, card, and app control with a built-in viewer and live view. Free installation, 5-year local warranty, 24/7 support.">
    <meta property="og:image" content="https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png">
    <meta property="og:url" content="https://yewdigitallock.com.sg/product/yew-x1">
    <meta property="og:type" content="product">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Preconnects & Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <!-- CDN Dependencies -->
    <!-- Alpine.js for UI state -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js" defer></script>
    <!-- <model-viewer> for 3D/AR -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>

    <!-- 
      A/B TESTING HARNESS & ANALYTICS
      This runs first to set the variant.
    -->
    <script>
        (function() {
            // 1. Get Variant
            function getVariant() {
                try {
                    const urlParams = new URLSearchParams(window.location.search);
                    if (urlParams.has('variant')) {
                        const forcedVariant = urlParams.get('variant').toUpperCase();
                        if (forcedVariant === 'A' || forcedVariant === 'B') {
                            return forcedVariant;
                        }
                    }
                    const storedVariant = localStorage.getItem('yew_x1_variant');
                    if (storedVariant) {
                        return storedVariant;
                    }
                    const newVariant = Math.random() < 0.5 ? 'A' : 'B';
                    localStorage.setItem('yew_x1_variant', newVariant);
                    return newVariant;
                } catch (e) {
                    console.warn("Could not set A/B variant:", e);
                    return 'A'; // Default fallback
                }
            }
            window.__variant = getVariant();

            // 2. DataLayer & Gtag Stub
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'GA_MEASUREMENT_ID'); // Placeholder
            
            // 3. Fire Experiment Impression
            gtag('event', 'experiment_impression', {
                experiment: 'hero_media',
                variant: window.__variant
            });
            console.log(`A/B Test Variant: ${window.__variant}`);

            // 4. Helper function for tracking
            window.trackEvent = function(eventName, params = {}) {
                const eventParams = { ...params, variant: window.__variant };
                console.log('Tracking Event:', eventName, eventParams);
                gtag('event', eventName, eventParams);
                
                // Push to dataLayer for GTM
                window.dataLayer.push({
                    'event': eventName,
                    ...eventParams
                });
            }
        })();
    </script>

    <!-- 
      MICRO-CMS CONTENT
      All page content is stored here and loaded by Alpine.js.
    -->
    <script type="application/json" id="pageContent">
    {
        "productName": "Yew X1",
        "hero": {
            "title": "Yew X1 — Unlock Security. See Everything.",
            "subtitle": "Facial Recognition • Built-In Viewer • Live View • App Control",
            "offer": "$1,049.00 → $899.00",
            "atome": "Atome from $299.67 x 3",
            "badges": [
                "Free Installation & Cleanup",
                "5-Year Local Warranty",
                "24/7 Local Customer Support — WhatsApp Us"
            ],
            "videoUrl": "https://yewdigitallock.com.sg/wp-content/uploads/2024/09/Yew-X1-Cinematic-Video.mp4"
        },
        "links": {
            "whatsapp": "https://wa.me/65XXXXXXXX?text=I%27m%20interested%20in%20Yew%20X1",
            "checkout": "https://yewdigitallock.com.sg/product/yew-x1",
            "terms": "/terms-and-conditions",
            "warranty": "/warranty-policy",
            "calendly": "https://calendly.com/yewdigital/site-visit"
        },
        "features": {
            "list": [
                "Fingerprint", "PIN", "Card", "Manual Key for Emergency", 
                "Facial Recognition", "Built-In Viewer", "Live Viewing Feature", 
                "Dual Sync and Tuya Apps"
            ],
            "gateSync": "SYNC with Elite U-2 Gate OR Elite U-3 Gate",
            "highlights": [
                { "icon": "face", "title": "Face Unlock", "desc": "Contactless access in under a second." },
                { "icon": "viewer", "title": "Built-In Viewer", "desc": "See who’s there instantly." },
                { "icon": "live", "title": "Live View", "desc": "Real-time visuals when it matters." },
                { "icon": "app", "title": "App Control", "desc": "Dual Sync & Tuya for full control." }
            ],
            "stories": [
                {
                    "title": "Personalized, secure, hands-free entry.",
                    "desc": "Advanced 3D facial recognition maps your features for instant, secure access, even in low light. It's security that knows you.",
                    "img": "https://placehold.co/600x400/111/C8AA7A?text=Feature+1+Visual"
                },
                {
                    "title": "Redundancy by design: 6 Unlock Methods.",
                    "desc": "Never get locked out. Choose from Face, Fingerprint, PIN, Card, App, or the emergency manual key. Total flexibility, total peace of mind.",
                    "img": "https://placehold.co/600x400/111/C8AA7A?text=Feature+2+Visual"
                },
                {
                    "title": "Awareness on demand, right at your doorway.",
                    "desc": "The built-in viewer gives you a clear look, while Live View lets you check your front door from anywhere via the app. It's your personal, digital peephole.",
                    "img": "https://placehold.co/600x400/111/C8AA7A?text=Feature+3+Visual"
                },
                {
                    "title": "Unify your home access.",
                    "desc": "Pair your Yew X1 with the Elite U-2 or U-3 Gate Lock. Unlock both your gate and your door with a single action. Seamless entry, simplified.",
                    "img": "https://placehold.co/600x400/111/C8AA7A?text=Feature+4+Visual"
                }
            ],
            "appMocks": [
                "https://placehold.co/300x600/111/E8EEF5?text=App+Mock+1",
                "https://placehold.co/300x600/111/E8EEF5?text=App+Mock+2",
                "https://placehold.co/300x600/111/E8EEF5?text=App+Mock+3"
            ]
        },
        "calculator": {
            "defaults": {
                "locksmithCost": 150,
                "lockoutsPerYear": 1,
                "rekeyCost": 80,
                "missedDeliveryCost": 25,
                "controlledAccessValue": 50,
                "lifetime": 5
            }
        },
        "comparison": [
            { "feature": "Warranty", "yew": "5-Year Local", "others": "1–2 years" },
            { "feature": "Installation", "yew": "Free + Cleanup", "others": "Often paid add-on" },
            { "feature": "Support", "yew": "24/7 Local", "others": "Limited / outsourced" },
            { "feature": "Unlock Methods", "yew": "Face, Fingerprint, PIN, Card, Key, App", "others": "Fewer options" },
            { "feature": "Built-In Viewer", "yew": "Included", "others": "Often not included" },
            { "feature": "Live View", "yew": "Included", "others": "Rare / extra hardware" },
            { "feature": "App Control", "yew": "Dual Sync & Tuya", "others": "Basic / single app" },
            { "feature": "Gate Sync", "yew": "Elite U-2/U-3", "others": "Typically not" },
            { "feature": "Price (SGD)", "yew": "$899", "others": "Similar or higher for less" }
        ],
        "reviews": [
            { "quote": "The facial recognition is unbelievably fast. My hands are always full, and this has been a lifesaver.", "author": "A. Tan", "title": "Verified Owner, HDB Punggol" },
            { "quote": "I manage a few rental properties. The app control and one-time PINs save me so much time. Support is also very responsive.", "author": "R. Chen", "title": "Verified Owner, Condo D.10" },
            { "quote": "The 5-year warranty gave me confidence. The installation team was professional and cleaned up everything.", "author": "S. Kumar", "title": "Verified Owner, Landed Serangoon" }
        ],
        "faq": [
            { "q": "Will the Yew X1 fit my door?", "a": "The Yew X1 is designed to fit most standard doors in Singapore (HDB, Condo, Landed) with a thickness between 40-120mm. Our Compatibility Wizard can help, or you can WhatsApp us a photo of your door." },
            { "q": "What happens if the power or Wi-Fi is out?", "a": "Your lock is battery-powered, so a power outage won't affect it. If Wi-Fi is down, you can still use Fingerprint, PIN, Card, and the Manual Key. The app's remote features will resume when Wi-Fi is restored." },
            { "q": "Is the Live View feature always on?", "a": "To conserve battery, the Live View is on-demand. You can activate it anytime from your app to see a real-time feed from the built-in viewer." },
            { "q": "What does the 5-Year Local Warranty cover?", "a": "Our 5-year warranty covers parts and labour for manufacturer defects, handled entirely by our local Singapore-based team. Full details are in our warranty policy." },
            { "q": "How does the Dual Sync & Tuya app system work?", "a": "You get the best of both worlds. Use the Tuya app for core smart home integration and remote access, and our Dual Sync app for specialized local management and backup. You can use one or both." },
            { "q": "How does Atome flexible payment work?", "a": "Atome allows you to split your purchase into 3 interest-free payments. You'll pay the first installment at checkout, and the next two 30 days apart. Subject to Atome's terms and approval." }
        ]
    }
    </script>

    <!-- JSON-LD Schemas -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Product",
      "name": "Yew X1 Digital Lock",
      "image": "https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png",
      "description": "Yew X1 combines facial recognition, fingerprint, PIN, card, and app control with a built-in viewer and live view. Free installation, 5-year local warranty, 24/7 support.",
      "sku": "YEW-X1",
      "brand": {
        "@type": "Brand",
        "name": "Yew Digital Lock"
      },
      "offers": {
        "@type": "Offer",
        "url": "https://yewdigitallock.com.sg/product/yew-x1",
        "priceCurrency": "SGD",
        "price": "899.00",
        "priceValidUntil": "2026-12-31",
        "itemCondition": "https://schema.org/NewCondition",
        "availability": "https://schema.org/InStock",
        "seller": {
          "@type": "Organization",
          "name": "Yew Digital Lock"
        }
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Yew Digital Lock",
      "url": "https://yewdigitallock.com.sg",
      "logo": "https://yewdigitallock.com.sg/wp-content/uploads/2024/09/Yew-Logo-Champagne.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+65-XXXXXXXX",
        "contactType": "customer support",
        "areaServed": "SG",
        "availableLanguage": "en"
      },
      "sameAs": []
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Will the Yew X1 fit my door?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The Yew X1 is designed to fit most standard doors in Singapore (HDB, Condo, Landed) with a thickness between 40-120mm. Our Compatibility Wizard can help, or you can WhatsApp us a photo of your door."
          }
        },
        {
          "@type": "Question",
          "name": "What happens if the power or Wi-Fi is out?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Your lock is battery-powered, so a power outage won't affect it. If Wi-Fi is down, you can still use Fingerprint, PIN, Card, and the Manual Key. The app's remote features will resume when Wi-Fi is restored."
          }
        },
        {
          "@type": "Question",
          "name": "What does the 5-Year Local Warranty cover?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Our 5-year warranty covers parts and labour for manufacturer defects, handled entirely by our local Singapore-based team. Full details are in our warranty policy."
          }
        }
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://yewdigitallock.com.sg"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "Digital Locks",
        "item": "https://yewdigitallock.com.sg/products"
      },{
        "@type": "ListItem",
        "position": 3,
        "name": "Yew X1"
      }]
    }
    </script>

    <!-- 
      STYLESHEET
      "Obsidian + Champagne" Design System
    -->
    <style>
        :root {
            --bg: #07090B;
            --panel: rgba(255, 255, 255, .06);
            --panel-heavy: rgba(255, 255, 255, .1);
            --txt: #E8EEF5;
            --txt-dim: #A9B4C2;
            --divider: rgba(255, 255, 255, .08);
            --accent: #C8AA7A;
            --accent-glow: rgba(200, 170, 122, 0.4);
            --accent-aux: #5AA8FF;
            
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            
            --motion-ease: cubic-bezier(.22, .61, .36, 1);
            --motion-duration: 300ms;
        }
        
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 1ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 1ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* Base & Typography */
        html {
            scroll-behavior: smooth;
            background-color: var(--bg);
            color: var(--txt);
            font-family: var(--font-sans);
            font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
            font-optical-sizing: auto;
            letter-spacing: -0.01em;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4 {
            font-weight: 700;
            color: var(--txt);
            letter-spacing: -0.025em;
            margin: 0 0 0.75rem 0;
        }

        h1 { font-size: clamp(2.5rem, 5vw, 4rem); line-height: 1.1; }
        h2 { font-size: clamp(2rem, 4vw, 3rem); line-height: 1.2; }
        h3 { font-size: clamp(1.5rem, 3vw, 2rem); line-height: 1.3; }
        h4 { font-size: 1.25rem; line-height: 1.4; font-weight: 500; }
        
        p {
            font-size: 1.125rem;
            line-height: 1.6;
            color: var(--txt-dim);
            margin: 0 0 1.5rem 0;
        }
        
        a {
            color: var(--accent-aux);
            text-decoration: none;
            transition: color var(--motion-duration) var(--motion-ease);
        }
        a:hover { color: var(--txt); }
        
        small, .text-sm {
            font-size: 0.875rem;
            color: var(--txt-dim);
        }

        /* Layout */
        .container {
            width: 100%;
            max-width: 1280px;
            margin-left: auto;
            margin-right: auto;
            padding-left: clamp(1.5rem, 5vw, 2.5rem);
            padding-right: clamp(1.5rem, 5vw, 2.5rem);
        }
        
        section {
            padding-top: clamp(4rem, 10vw, 8rem);
            padding-bottom: clamp(4rem, 10vw, 8rem);
            border-bottom: 1px solid var(--divider);
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2.5rem;
        }
        @media (min-width: 768px) {
            .grid-2 { grid-template-columns: 1fr 1fr; }
        }
        
        .grid-4 {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        @media (min-width: 640px) {
            .grid-4 { grid-template-columns: 1fr 1fr; }
        }
        @media (min-width: 1024px) {
            .grid-4 { grid-template-columns: repeat(4, 1fr); }
        }

        /* Panels & Glass */
        .panel {
            background: var(--panel);
            border: 1px solid var(--divider);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            transition: background var(--motion-duration) var(--motion-ease);
        }
        .panel:hover {
            background: var(--panel-heavy);
        }
        
        /* Buttons */
        .btn {
            display: inline-block;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.875rem 1.75rem;
            border-radius: 99px;
            border: 1px solid transparent;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            transition: all var(--motion-duration) var(--motion-ease);
            white-space: nowrap;
        }
        .btn:hover {
            transform: scale(1.03);
            filter: brightness(1.1);
        }
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-primary {
            background-color: var(--accent);
            color: #000;
            border-color: var(--accent);
            box-shadow: 0 4px 20px var(--accent-glow);
        }
        .btn-primary:hover {
            box-shadow: 0 6px 25px var(--accent-glow);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--txt);
            border-color: var(--divider);
        }
        .btn-outline:hover {
            background-color: var(--panel);
            border-color: var(--txt-dim);
        }
        
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--txt);
        }
        .form-input, .form-select {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            background-color: var(--bg);
            border: 1px solid var(--divider);
            border-radius: 8px;
            color: var(--txt);
            transition: border-color var(--motion-duration) var(--motion-ease), box-shadow var(--motion-duration) var(--motion-ease);
        }
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--accent-aux);
            box-shadow: 0 0 0 2px var(--accent-aux);
        }
        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23A9B4C2' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E");
            background-position: right 0.75rem center;
            background-repeat: no-repeat;
            background-size: 1.25em;
            padding-right: 2.5rem;
        }
        
        /* Header */
        .header {
            position: sticky;
            top: 0;
            width: 100%;
            padding: 1.25rem 0;
            background: rgba(7, 9, 11, 0.7);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border-bottom: 1px solid var(--divider);
            z-index: 50;
        }
        .header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header-logo {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--txt);
            text-decoration: none;
            letter-spacing: -0.05em;
        }
        .header-nav {
            display: none;
        }
        @media (min-width: 1024px) {
            .header-nav {
                display: flex;
                gap: 1.5rem;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }
            .header-nav a {
                font-size: 0.875rem;
                font-weight: 500;
                color: var(--txt-dim);
                transition: color var(--motion-duration) var(--motion-ease);
            }
            .header-nav a:hover {
                color: var(--txt);
            }
        }
        .header .btn-group {
            gap: 0.75rem;
        }
        .header .btn {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        /* Hero Section */
        #hero {
            position: relative;
            padding-top: 6rem;
            padding-bottom: 6rem;
            min-height: 80vh;
            display: flex;
            align-items: center;
            text-align: center;
            overflow: hidden;
            border-bottom: 1px solid var(--divider);
        }
        #hero .container {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .hero-media {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            z-index: 0;
            opacity: 0.15;
        }
        #hero video.hero-media {
            opacity: 0.3;
        }
        .hero-media::after { /* Gradient fade */
            content: '';
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 50%;
            background: linear-gradient(to bottom, transparent, var(--bg));
        }
        
        #hero h1 {
            max-width: 20ch;
            margin-bottom: 1rem;
        }
        #hero .subtitle {
            font-size: 1.25rem;
            font-weight: 300;
            color: var(--accent);
            margin-bottom: 2rem;
        }
        .hero-offer {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        .hero-offer span {
            text-decoration: line-through;
            color: var(--txt-dim);
            font-weight: 300;
            margin-right: 0.5rem;
        }
        .hero-atome {
            font-size: 1.125rem;
            color: var(--txt-dim);
            margin-bottom: 2.5rem;
        }
        .hero-badges {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2.5rem;
            font-size: 0.875rem;
            color: var(--txt-dim);
            font-weight: 500;
        }
        .hero-badges span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .hero-badges span::before { /* Tiny check icon */
            content: '✓';
            color: var(--accent);
        }

        /* Icons (inline SVG) */
        .icon {
            width: 1.25em;
            height: 1.25em;
            stroke: currentColor;
            stroke-width: 1.5;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            transition: all var(--motion-duration) var(--motion-ease);
        }
        .icon-lg {
            width: 3rem;
            height: 3rem;
            stroke: var(--accent);
            margin-bottom: 1rem;
        }
        .icon-lg-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--panel);
            border: 1px solid var(--divider);
            margin-bottom: 1.5rem;
        }

        /* 3D Viewer */
        model-viewer {
            width: 100%;
            height: 600px;
            border-radius: 16px;
            border: 1px solid var(--divider);
            background-color: var(--bg);
            --poster-color: transparent;
        }
        .hotspot {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            position: relative;
            backdrop-filter: blur(5px);
            transition: all var(--motion-duration) var(--motion-ease);
        }
        .hotspot:hover {
            transform: scale(1.2);
        }
        .hotspot .tooltip {
            position: absolute;
            bottom: 150%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--txt);
            color: var(--bg);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all var(--motion-duration) var(--motion-ease);
            pointer-events: none;
        }
        .hotspot:hover .tooltip, .hotspot:focus .tooltip {
            opacity: 1;
            visibility: visible;
            bottom: 125%;
        }

        /* Feature Stories */
        .feature-story {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2.5rem;
            align-items: center;
        }
        @media (min-width: 768px) {
            .feature-story {
                grid-template-columns: 1fr 1fr;
            }
            .feature-story:nth-child(even) .story-image {
                order: -1;
            }
        }
        .feature-story + .feature-story {
            margin-top: 6rem;
        }
        .story-image {
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--divider);
        }
        .story-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        .story-content h3 {
            color: var(--accent);
        }

        /* App Mocks */
        .app-mocks-container {
            display: flex;
            gap: 2rem;
            overflow-x: auto;
            padding-bottom: 2rem;
            /* Hide scrollbar */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
        }
        .app-mocks-container::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
        }
        .app-mock {
            flex: 0 0 280px;
            border-radius: 16px;
            border: 1px solid var(--divider);
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .app-mock img {
            display: block;
            width: 100%;
            height: auto;
        }

        /* Comparison Tabs */
        .tabs {
            margin-bottom: 2rem;
            display: flex;
            gap: 0.5rem;
            border-bottom: 1px solid var(--divider);
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            background: transparent;
            border: none;
            color: var(--txt-dim);
            font-weight: 500;
            font-size: 1rem;
            border-bottom: 2px solid transparent;
            transform: translateY(1px);
            transition: all var(--motion-duration) var(--motion-ease);
        }
        .tab-button.active {
            color: var(--txt);
            border-bottom-color: var(--accent);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }
        .comparison-table th, .comparison-table td {
            padding: 1rem 0.5rem;
            text-align: left;
            border-bottom: 1px solid var(--divider);
        }
        .comparison-table th {
            color: var(--txt-dim);
            font-weight: 500;
        }
        .comparison-table td:nth-child(2) {
            color: var(--accent);
            font-weight: 500;
        }
        @media (min-width: 640px) {
            .comparison-table th, .comparison-table td {
                padding: 1.25rem 1rem;
            }
        }

        /* FAQ Accordion */
        .faq-item {
            border-bottom: 1px solid var(--divider);
        }
        .faq-question {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
            background: none;
            border: none;
            color: var(--txt);
            font-size: 1.125rem;
            font-weight: 500;
            cursor: pointer;
            text-align: left;
        }
        .faq-question .icon {
            flex-shrink: 0;
            margin-left: 1rem;
            transition: transform var(--motion-duration) var(--motion-ease);
        }
        .faq-answer {
            overflow: hidden;
            max-height: 0;
            transition: max-height var(--motion-duration) var(--motion-ease);
        }
        .faq-answer p {
            padding-bottom: 1.5rem;
            font-size: 1rem;
        }
        
        /* Modals & Drawers */
        .modal-backdrop {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            z-index: 100;
        }
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            background: var(--bg);
            border: 1px solid var(--divider);
            border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            padding: 2.5rem;
        }
        .drawer-content {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            max-width: 500px;
            background: var(--bg);
            border-left: 1px solid var(--divider);
            box-shadow: -10px 0 50px rgba(0,0,0,0.5);
            z-index: 110;
            display: flex;
            flex-direction: column;
        }
        .drawer-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--divider);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .drawer-body {
            padding: 2rem;
            overflow-y: auto;
            flex-grow: 1;
        }
        .drawer-footer {
            padding: 1.5rem 2rem;
            border-top: 1px solid var(--divider);
            background: rgba(7, 9, 11, 0.7);
            backdrop-filter: blur(10px);
        }
        .modal-close-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--txt-dim);
            cursor: pointer;
            padding: 0;
        }
        .modal-close-btn:hover { color: var(--txt); }

        /* Wizard */
        .wizard-step { display: none; }
        .wizard-step.active { display: block; }
        .wizard-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        .wizard-option {
            padding: 1rem;
            border: 1px solid var(--divider);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all var(--motion-duration) var(--motion-ease);
        }
        .wizard-option:hover {
            background: var(--panel);
        }
        .wizard-option.selected {
            background: var(--accent-aux);
            border-color: var(--accent-aux);
            color: var(--bg);
        }
        .wizard-summary {
            background: var(--panel);
            border-radius: 8px;
            padding: 1.5rem;
        }
        .wizard-summary p { margin: 0; line-height: 1.5; color: var(--txt); }
        .wizard-summary strong { color: var(--accent); }

        /* Calculator */
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }
        @media (min-width: 768px) {
            .calculator-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        .calculator-results {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        @media (min-width: 640px) {
            .calculator-results {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        .result-card {
            background: var(--panel);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }
        .result-card-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }
        .result-card-label {
            font-size: 1rem;
            color: var(--txt-dim);
        }

        /* Sticky Purchase Bar */
        .sticky-purchase-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(7, 9, 11, 0.8);
            backdrop-filter: blur(14px);
            border-top: 1px solid var(--divider);
            padding: 1.25rem 0;
            z-index: 40;
            transform: translateY(100%);
            transition: transform var(--motion-duration) var(--motion-ease);
        }
        .sticky-purchase-bar.visible {
            transform: translateY(0);
        }
        .sticky-purchase-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1.5rem;
        }
        .sticky-product-info {
            display: none;
        }
        @media (min-width: 768px) {
            .sticky-product-info {
                display: flex;
                align-items: center;
                gap: 1.5rem;
            }
            .sticky-product-info img {
                width: 50px;
                height: 50px;
                object-fit: contain;
                border-radius: 8px;
            }
            .sticky-product-details {
                font-weight: 500;
            }
            .sticky-product-details .price {
                font-size: 0.875rem;
                color: var(--txt-dim);
            }
        }
        .sticky-options {
            display: flex;
            gap: 0.5rem;
        }
        .sticky-option-pill {
            background: var(--panel);
            color: var(--txt-dim);
            font-size: 0.875rem;
            padding: 0.35rem 0.75rem;
            border-radius: 99px;
            white-space: nowrap;
        }
        .sticky-option-pill.set {
            color: var(--accent-aux);
        }

        /* Consent Banner */
        .consent-banner {
            position: fixed;
            bottom: 1.5rem;
            left: 1.5rem;
            width: 90%;
            max-width: 400px;
            z-index: 200;
        }

        /* Footer */
        .footer {
            padding: 3rem 0;
            background: #000;
            border-top: 1px solid var(--divider);
        }
        .footer .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        .footer-nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem;
        }
        .footer-nav a, .footer-copy {
            font-size: 0.875rem;
            color: var(--txt-dim);
        }
        .footer-nav a:hover {
            color: var(--txt);
        }

        /* Alpine.js Transitions */
        [x-cloak] { display: none !important; }

        .transition-fade {
            transition: opacity var(--motion-duration) var(--motion-ease);
        }
        .fade-enter-start, .fade-leave-end { opacity: 0; }
        .fade-enter-end, .fade-leave-start { opacity: 1; }
        
        .transition-slide-up {
            transition: opacity var(--motion-duration) var(--motion-ease), transform var(--motion-duration) var(--motion-ease);
        }
        .slide-up-enter-start, .slide-up-leave-end { opacity: 0; transform: translateY(20px); }
        .slide-up-enter-end, .slide-up-leave-start { opacity: 1; transform: translateY(0); }

        .transition-slide-right {
            transition: transform var(--motion-duration) var(--motion-ease);
        }
        .slide-right-enter-start, .slide-right-leave-end { transform: translateX(100%); }
        .slide-right-enter-end, .slide-right-leave-start { transform: translateX(0); }
        
        /* Print Styles */
        @media print {
            body {
                background-color: #fff;
                color: #000;
            }
            
            .no-print,
            .header,
            .hero-badges, .hero-cta-group,
            #section-3d,
            #section-wizard,
            #section-calculator,
            #section-scheduler,
            #section-reviews,
            .sticky-purchase-bar,
            .consent-banner,
            .footer,
            .modal-backdrop,
            .drawer-content {
                display: none !important;
            }
            
            section {
                padding: 2rem 0;
                border-bottom: 1px solid #ccc;
            }
            
            #hero {
                min-height: auto;
                padding: 2rem 0;
            }
            #hero video { display: none; }
            #hero img.hero-media { opacity: 1; }
            
            h1, h2, h3, h4, p, a {
                color: #000 !important;
            }
            
            a { text-decoration: underline; }
            
            .container {
                max-width: 100%;
                padding: 0 1cm;
            }
            
            .grid-2, .grid-4 {
                grid-template-columns: 1fr 1fr;
            }
            
            .panel {
                border: 1px solid #ccc;
                padding: 1rem;
                background: #f9f9f9;
                backdrop-filter: none;
            }
            
            .comparison-table {
                width: 100%;
            }
            .comparison-table th, .comparison-table td {
                border-bottom: 1px solid #ccc;
            }
            .comparison-table td:nth-child(2) {
                color: #000;
            }
            
            .faq-item { border-bottom: 1px solid #ccc; }
            .faq-question { color: #000; }
            .faq-answer { max-height: none !important; }
            .faq-answer p { color: #333; }
        }

    </style>
</head>
<body x-data="productPage()" @scroll.window="isScrolled = (window.scrollY > 300)">

    <!-- Icons SVG Defs -->
    <svg width="0" height="0" style="position:absolute">
        <defs>
            <symbol id="icon-face" viewBox="0 0 24 24">
                <path d="M4 8V6a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2" />
                <path d="M4 16v2a4 4 0 0 0 4 4h8a4 4 0 0 0 4-4v-2" />
                <rect x="8" y="11" width="8" height="2" rx="1" />
            </symbol>
            <symbol id="icon-viewer" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="3.5" />
                <path d="M12 2a10 10 0 1 0 10 10" />
                <path d="M12 2a10 10 0 1 1-10 10" />
            </symbol>
            <symbol id="icon-live" viewBox="0 0 24 24">
                <path d="M2.75 10.75a8 8 0 1 1 16 0" />
                <path d="M12 19a8 8 0 0 0-8-8" />
                <circle cx="12" cy="12" r="1.5" />
            </symbol>
            <symbol id="icon-app" viewBox="0 0 24 24">
                <rect x="7" y="2" width="10" height="20" rx="2" ry="2" />
                <path d="M12 18h.01" />
            </symbol>
            <symbol id="icon-plus" viewBox="0 0 24 24">
                <line x1="12" y1="5" x2="12" y2="19" />
                <line x1="5" y1="12" x2="19" y2="12" />
            </symbol>
            <symbol id="icon-minus" viewBox="0 0 24 24">
                <line x1="5" y1="12" x2="19" y2="12" />
            </symbol>
            <symbol id="icon-x" viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
            </symbol>
        </defs>
    </svg>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <a href="#" class="header-logo" x-text="content.productName">YEW X1</a>
            <nav class="header-nav">
                <a href="#section-overview">Overview</a>
                <a href="#section-3d">Features</a>
                <a href="#section-app">App</a>
                <a href="#section-comparison">Comparison</a>
                <a href="#section-warranty">Install & Warranty</a>
                <a href="#section-reviews">Reviews</a>
                <a href="#section-faq">FAQ</a>
            </nav>
            <div class="btn-group">
                <a :href="whatsappLink()" @click="trackEvent('contact', {method:'whatsapp', product: content.productName, context: 'header'})" target="_blank" class="btn btn-outline">WhatsApp Us</a>
                <button @click="openBuyDrawer('header')" class="btn btn-primary">Buy Now</button>
            </div>
        </div>
    </header>

    <main>

        <!-- Section 1: Cinematic Hero -->
        <section id="hero">
            <!-- Variant A: Static Image Hero -->
            <template x-if="variant === 'A'">
                <img src="https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png" 
                     alt="Yew X1 Digital Lock in matte black with integrated viewer" 
                     class="hero-media"
                     fetchpriority="high">
            </template>
            <!-- Variant B: Video Hero -->
            <template x-if="variant === 'B'">
                <video :src="content.hero.videoUrl"
                       poster="https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png"
                       class="hero-media"
                       autoplay muted loop playsinline>
                </video>
            </template>
            
            <div class="container">
                <h1 x-text="content.hero.title"></h1>
                <p class="subtitle" x-text="content.hero.subtitle"></p>
                <div class="hero-offer">
                    <span x-text="content.hero.offer.split('→')[0]"></span>
                    <strong x-text="content.hero.offer.split('→')[1]"></strong>
                </div>
                <div class="hero-atome" x-text="content.hero.atome" @click="trackEvent('view_promotion', {promotion_name:'Atome 3-pay', value: 899})"></div>
                
                <div class="btn-group hero-cta-group">
                    <button @click="openBuyDrawer('hero')" class="btn btn-primary btn-lg">Buy Now</button>
                    <a :href="whatsappLink()" @click="trackEvent('contact', {method:'whatsapp', product: content.productName, context: 'hero'})" target="_blank" class="btn btn-outline btn-lg">WhatsApp Us</a>
                </div>

                <div class="hero-badges">
                    <template x-for="badge in content.hero.badges" :key="badge">
                        <span x-text="badge"></span>
                    </template>
                </div>
            </div>
        </section>

        <!-- Section 2: Prestige Highlights -->
        <section id="section-overview">
            <div class="container">
                <div class="grid-4">
                    <template x-for="highlight in content.features.highlights" :key="highlight.title">
                        <div class="panel" style="padding: 2.5rem;">
                            <div class="icon-lg-wrapper">
                                <svg class="icon icon-lg"><use :xlink:href="'#icon-' + highlight.icon"></use></svg>
                            </div>
                            <h4 x-text="highlight.title"></h4>
                            <p x-text="highlight.desc" class="text-sm"></p>
                        </div>
                    </template>
                </div>
            </div>
        </section>

        <!-- Section 3: 3D/AR Viewer -->
        <section id="section-3d" style="background: #000; border-color: #000;">
            <div class="container" style="text-align: center;">
                <h2 style="margin-bottom: 1rem;">Inspect every detail.</h2>
                <p style="max-width: 60ch; margin: 0 auto 2.5rem auto;">
                    Orbit, zoom, and see how the Yew X1 looks on your door with augmented reality.
                </p>
                
                <model-viewer src="https://yewdigitallock.com.sg/wp-content/uploads/2024/09/Yew-X1-3D-Model.glb" 
                              ios-src="https://yewdigitallock.com.sg/wp-content/uploads/2024/09/Yew-X1-3D-Model.usdz"
                              poster="https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png"
                              alt="3D model of Yew X1 Digital Lock"
                              ar
                              ar-modes="webxr scene-viewer quick-look"
                              camera-controls
                              shadow-intensity="1"
                              exposure="1.2"
                              auto-rotate
                              autoplay>
                    
                    <button slot="hotspot-1" class="hotspot" data-position="0.1m 0.15m 0.05m" data-normal="0 0 1">
                        <div class="tooltip">Facial Recognition Sensor</div>
                    </button>
                    <button slot="hotspot-2" class="hotspot" data-position="0m 0.05m 0.05m" data-normal="0 0 1">
                        <div class="tooltip">Built-In Viewer</div>
                    </button>
                    <button slot="hotspot-3" class="hotspot" data-position="-0.05m -0.1m 0.05m" data-normal="0 0 1">
                        <div class="tooltip">Emergency Key Slot</div>
                    </button>
                    <button slot="ar-button" class="btn btn-primary" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">
                        View in your space
                    </button>
                </model-viewer>
                <small style="display: block; margin-top: 1rem;">3D/AR experience requires a compatible device.</small>
            </div>
        </section>

        <!-- Section 4: Feature Stories -->
        <section id="section-features">
            <div class="container">
                <template x-for="(story, index) in content.features.stories" :key="index">
                    <div class="feature-story">
                        <div class="story-content">
                            <h3 x-text="story.title"></h3>
                            <p x-text="story.desc"></p>
                            <ul class="text-sm" style="padding-left: 1.5rem; color: var(--txt-dim);">
                                <template x-if="index === 1">
                                    <template x-for="item in content.features.list">
                                        <li x-text="item"></li>
                                    </template>
                                </template>
                            </ul>
                        </div>
                        <div class="story-image">
                            <img :src="story.img" :alt="story.title" loading="lazy">
                        </div>
                    </div>
                </template>
            </div>
        </section>
        
        <!-- Section 5: Compatibility Wizard -->
        <section id="section-wizard" style="background: var(--panel);">
            <div class="container" style="text-align: center;">
                <h2>Will it fit?</h2>
                <p style="max-width: 60ch; margin: 0 auto 2.5rem auto;">
                    Our locks fit most Singapore doors. Answer a few questions to check your compatibility and pre-fill your installation details.
                </p>
                <button @click="modals.wizard = true" class="btn btn-primary btn-lg">Start Compatibility Wizard</button>
            </div>
        </section>

        <!-- Section 6: ROI / Value Calculator -->
        <section id="section-calculator">
            <div class="container">
                <div class="calculator-grid">
                    <div class="calculator-inputs">
                        <h2>The Value of X1</h2>
                        <p>A premium lock isn't just a cost—it's an investment in convenience and security. See how the Yew X1 pays for itself.</p>
                        
                        <div class="form-group">
                            <label for="calc-locksmith" class="form-label">Typical locksmith callout cost (SGD)</label>
                            <input type="number" id="calc-locksmith" class="form-input" x-model.number="calculator.locksmithCost">
                        </div>
                        <div class="form-group">
                            <label for="calc-lockouts" class="form-label">Accidental lockouts per year</label>
                            <input type="number" id="calc-lockouts" class="form-input" x-model.number="calculator.lockoutsPerYear">
                        </div>
                        <div class="form-group">
                            <label for="calc-delivery" class="form-label">Value of missed deliveries / re-keying (per year)</label>
                            <input type="number" id="calc-delivery" class="form-input" x-model.number="calculator.missedDeliveryCost">
                        </div>
                        <div class="form-group">
                            <label for="calc-lifetime" class="form-label">Expected lock lifetime (years)</label>
                            <input type="number" id="calc-lifetime" class="form-input" x-model.number="calculator.lifetime">
                        </div>
                        <small>Estimates; actual usage varies.</small>
                    </div>
                    
                    <div class="calculator-results" x-data="{ inView: false }" x-intersect.once="inView = true">
                        <div class="result-card">
                            <div class="result-card-value" x-text="inView ? `$${animatedCount(year1Savings, 0, 500)}` : '$0'"></div>
                            <div class="result-card-label">Estimated Year 1 Savings</div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-value" x-text="inView ? `$${animatedCount(tco, 0, 500)}` : '$0'"></div>
                            <div class="result-card-label" x-text="`${calculator.lifetime}-Year Total Value`"></div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-value" x-text="inView ? `${animatedCount(payback, 0, 500, 1)} Yrs` : '0 Yrs'"></div>
                            <div class="result-card-label">Payback Period</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 7: App Experience -->
        <section id="section-app" style="background: var(--bg);">
            <div class="container">
                <h2 style="text-align: center;">Control from anywhere.</h2>
                <p style="text-align: center; max-width: 60ch; margin: 0 auto 3rem auto;">
                    Manage permissions, view access logs, and get real-time alerts with both the Tuya Smart Home and Dual Sync apps.
                </p>
                <div class="app-mocks-container">
                    <template x-for="img in content.features.appMocks" :key="img">
                        <div class="app-mock">
                            <img :src="img" alt="App screenshot" loading="lazy">
                        </div>
                    </template>
                </div>
            </div>
        </section>
        
        <!-- Section 8: Advanced Comparison -->
        <section id="section-comparison">
            <div class="container" x-data="{ activeTab: 'compare' }">
                <h2 style="text-align: center; margin-bottom: 3rem;">Premium, not just in price.</h2>
                
                <div class="tabs">
                    <button class="tab-button" :class="{ 'active': activeTab === 'compare' }" @click="activeTab = 'compare'">Vs. Others</button>
                    <button class="tab-button" :class="{ 'active': activeTab === 'specs' }" @click="activeTab = 'specs'">Full Specs</button>
                </div>

                <div class="tab-content" :class="{ 'active': activeTab === 'compare' }" x-show="activeTab === 'compare'">
                    <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Feature</th>
                                    <th x-text="content.productName">Yew X1</th>
                                    <th>Typical Competitors</th>
                                </tr>
                            </thead>
                            <tbody>
                                <template x-for="row in content.comparison" :key="row.feature">
                                    <tr>
                                        <td x-text="row.feature"></td>
                                        <td x-text="row.yew"></td>
                                        <td x-text="row.others"></td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                    <small style="display: block; margin-top: 1.5rem;">Typical competitor specs based on public info; may vary.</small>
                </div>
                
                <div class="tab-content" :class="{ 'active': activeTab === 'specs' }" x-show="activeTab === 'specs'">
                    <div class="grid-2">
                        <div>
                            <h4>Unlock Methods</h4>
                            <ul>
                                <template x-for="item in content.features.list">
                                    <li x-text="item"></li>
                                </template>
                            </ul>
                        </div>
                        <div>
                            <h4>Connectivity & App</h4>
                            <ul>
                                <li>Dual Sync & Tuya App Control</li>
                                <li>Wi-Fi Enabled (2.4Ghz)</li>
                                <li>One-Time PINs</li>
                                <li>Access Logs & Alerts</li>
                            </ul>
                        </div>
                        <div>
                            <h4>Hardware</h4>
                            <ul>
                                <li>Built-In HD Viewer</li>
                                <li>Live View Camera</li>
                                <li>Rechargeable Lithium Battery</li>
                                <li>Emergency USB-C Port</li>
                                <li>Manual Key Override</li>
                            </ul>
                        </div>
                        <div>
                            <h4>Compatibility</h4>
                            <ul>
                                <li>Door Thickness: 40-120mm</li>
                                <li>Gate Sync: Elite U-2/U-3</li>
                                <li>Weather: Sheltered use recommended</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 9: Installation & Warranty -->
        <section id="section-warranty" style="background: var(--panel);">
            <div class="container">
                <div class="grid-2">
                    <div>
                        <h2>Concierge-level service.</h2>
                        <p>Your premium experience doesn't end at checkout. We handle everything, so you don't have to.</p>
                        <div class="btn-group">
                            <a :href="content.links.warranty" target="_blank" class="btn btn-outline">Warranty Policy</a>
                            <a :href="content.links.terms" target="_blank" class="btn btn-outline">Terms & Conditions</a>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                        <div class="panel" style="background: var(--bg);">
                            <h4>Free Installation & Cleanup</h4>
                            <p class="text-sm">Our professional, in-house team handles the full setup and ensures your home is left tidy.</p>
                        </div>
                        <div class="panel" style="background: var(--bg);">
                            <h4>5-Year Local Warranty</h4>
                            <p class="text-sm">Comprehensive 5-year coverage on parts and labour, handled by our local Singapore support team.</p>
                        </div>
                        <div class="panel" style="background: var(--bg);">
                            <h4>24/7 Local Support</h4>
                            <p class="text-sm">Questions? Issues? Our team is available 24/7 via WhatsApp to assist you immediately.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section 10: Appointment Scheduler -->
        <section id="section-scheduler" class="print-section">
            <div class="container" style="text-align: center;">
                <h2>Book a Site Visit or Installation</h2>
                <p style="max-width: 60ch; margin: 0 auto 2.5rem auto;">
                    Prefer to have us check your door first? Or ready to schedule your installation? Pick a time that works for you.
                </p>
                <div style="border-radius: 16px; overflow: hidden; border: 1px solid var(--divider); min-height: 700px;">
                    <iframe :src="content.links.calendly"
                            width="100%"
                            height="700"
                            frameborder="0"
                            title="Schedule Appointment"
                            loading="lazy"
                            @load="trackEvent('schedule', {method:'calendly', product: content.productName})">
                    </iframe>
                </div>
            </div>
        </section>

        <!-- Section 11: Owner Stories -->
        <section id="section-reviews">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 3rem;">Verified Owner Stories</h2>
                <div class="grid-2" style="gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                    <template x-for="review in content.reviews" :key="review.author">
                        <div class="panel" style="display: flex; flex-direction: column; justify-content: space-between;">
                            <p style="font-style: italic; font-size: 1.125rem; color: var(--txt);">&ldquo;<span x-text="review.quote"></span>&rdquo;</p>
                            <div>
                                <h4 x-text="review.author" style="font-size: 1rem; margin: 0; color: var(--accent);"></h4>
                                <small x-text="review.title"></small>
                            </div>
                        </div>
                    </template>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <p>Prefer to speak to a reference? WhatsApp us.</p>
                    <a :href="whatsappLink('reference')" @click="trackEvent('contact', {method:'whatsapp', product: content.productName, context: 'reference_request'})" target="_blank" class="btn btn-outline">Request References</a>
                </div>
            </div>
        </section>

        <!-- Section 12: FAQ -->
        <section id="section-faq" class="print-section">
            <div class="container" style="max-width: 800px;">
                <h2 style="text-align: center; margin-bottom: 3rem;">Frequently Asked Questions</h2>
                <div>
                    <template x-for="(faq, index) in content.faq" :key="index">
                        <div class="faq-item">
                            <button class="faq-question" @click="activeFAQ = (activeFAQ === index ? null : index)">
                                <span x-text="faq.q"></span>
                                <svg class="icon" :style="activeFAQ === index ? 'transform: rotate(180deg)' : ''"><use :xlink:href="activeFAQ === index ? '#icon-minus' : '#icon-plus'"></use></svg>
                            </button>
                            <div class="faq-answer" x-show="activeFAQ === index" x-transition:enter="transition-fade" x-transition:leave="transition-fade"
                                 :style="activeFAQ === index ? 'max-height: 500px' : ''">
                                <p x-text="faq.a"></p>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </section>
        
    </main>

    <!-- Footer -->
    <footer class="footer no-print">
        <div class="container">
            <div class="footer-nav">
                <a :href="whatsappLink()" @click="trackEvent('contact', {method:'whatsapp', product: content.productName, context: 'footer'})" target="_blank">WhatsApp Us</a>
                <a :href="content.links.terms" target="_blank">Terms & Conditions</a>
                <a :href="content.links.warranty" target="_blank">Warranty Policy</a>
                <a href="/privacy-policy" target="_blank">Privacy</a>
            </div>
            <div class="footer-copy">
                By contacting us, you consent to being contacted about your enquiry.
            </div>
            <div class="footer-copy">
                &copy; <span x-text="new Date().getFullYear()"></span> Yew Digital Lock. All rights reserved. Singapore.
            </div>
        </div>
    </footer>

    <!-- 
      MODALS & DRAWERS 
    -->

    <!-- Compatibility Wizard Modal -->
    <div class="modal-backdrop"
         x-show="modals.wizard"
         x-transition:enter="transition-fade fade-enter-start"
         x-transition:enter-end="fade-enter-end"
         x-transition:leave="transition-fade fade-leave-start"
         x-transition:leave-end="fade-leave-end"
         @click="modals.wizard = false"
         x-cloak>
    </div>
    <div class="modal-content"
         x-show="modals.wizard"
         x-transition:enter="transition-slide-up slide-up-enter-start"
         x-transition:enter-end="slide-up-enter-end"
         x-transition:leave="transition-slide-up slide-up-leave-start"
         x-transition:leave-end="slide-up-leave-end"
         @click.outside="modals.wizard = false"
         role="dialog" aria-modal="true" aria-labelledby="wizard-title"
         x-cloak>
        
        <button class="modal-close-btn" @click="modals.wizard = false" aria-label="Close Wizard">
            <svg class="icon"><use xlink:href="#icon-x"></use></svg>
        </button>

        <!-- Step 1: Door Type -->
        <div class="wizard-step" :class="{ 'active': wizard.step === 1 }">
            <h3 id="wizard-title">Step 1: What is your door type?</h3>
            <div class="wizard-options">
                <button class="wizard-option" :class="{'selected': wizard.doorType === 'HDB'}" @click="wizard.doorType = 'HDB'">HDB</button>
                <button class="wizard-option" :class="{'selected': wizard.doorType === 'Condo'}" @click="wizard.doorType = 'Condo'">Condo</button>
                <button class="wizard-option" :class="{'selected': wizard.doorType === 'Landed'}" @click="wizard.doorType = 'Landed'">Landed</button>
                <button class="wizard-option" :class="{'selected': wizard.doorType === 'Other'}" @click="wizard.doorType = 'Other'">Other</button>
            </div>
            <div class="btn-group" style="margin-top: 2rem; justify-content: flex-end;">
                <button class="btn btn-primary" @click="wizard.step = 2" :disabled="!wizard.doorType">Next</button>
            </div>
        </div>
        
        <!-- Step 2: Handle Side -->
        <div class="wizard-step" :class="{ 'active': wizard.step === 2 }">
            <h3>Step 2: Handle Side</h3>
            <p class="text-sm">From outside your home, which side is your door handle on?</p>
            <div class="wizard-options">
                <button class="wizard-option" :class="{'selected': wizard.handleSide === 'Left'}" @click="wizard.handleSide = 'Left'">Left</button>
                <button class="wizard-option" :class="{'selected': wizard.handleSide === 'Right'}" @click="wizard.handleSide = 'Right'">Right</button>
            </div>
            <div class="btn-group" style="margin-top: 2rem; justify-content: space-between;">
                <button class="btn btn-outline" @click="wizard.step = 1">Back</button>
                <button class="btn btn-primary" @click="wizard.step = 3" :disabled="!wizard.handleSide">Next</button>
            </div>
        </div>

        <!-- Step 3: Gate Sync -->
        <div class="wizard-step" :class="{ 'active': wizard.step === 3 }">
            <h3>Step 3: Sync with a Gate Lock?</h3>
            <div class="wizard-options">
                <button class="wizard-option" :class="{'selected': wizard.gateSync === 'U-2'}" @click="wizard.gateSync = 'U-2'">Elite U-2</button>
                <button class="wizard-option" :class="{'selected': wizard.gateSync === 'U-3'}" @click="wizard.gateSync = 'U-3'">Elite U-3</button>
                <button class="wizard-option" :class="{'selected': wizard.gateSync === 'None'}" @click="wizard.gateSync = 'None'">No Gate Sync</button>
            </div>
            <div class="btn-group" style="margin-top: 2rem; justify-content: space-between;">
                <button class="btn btn-outline" @click="wizard.step = 2">Back</button>
                <button class="btn btn-primary" @click="wizard.step = 4" :disabled="!wizard.gateSync">Next</button>
            </div>
        </div>
        
        <!-- Step 4: Summary -->
        <div class="wizard-step" :class="{ 'active': wizard.step === 4 }">
            <h3>Compatibility Summary</h3>
            <p>Based on your answers, here is your configuration:</p>
            <div class="wizard-summary">
                <p>Door Type: <strong x-text="wizard.doorType"></strong></p>
                <p>Handle Side: <strong x-text="wizard.handleSide"></strong></p>
                <p>Gate Sync: <strong x-text="wizard.gateSync"></strong></p>
            </div>
            <p style="margin-top: 1.5rem;" class="text-sm">This looks compatible! You can use these details to buy now or discuss with our team on WhatsApp.</p>
            <div class="btn-group" style="margin-top: 2rem; justify-content: space-between;">
                <button class="btn btn-outline" @click="wizard.step = 3">Back</button>
                <button class="btn btn-primary" @click="modals.wizard = false; openBuyDrawer('wizard')">Looks Good - Proceed</button>
            </div>
        </div>
        
    </div>
    
    <!-- Buy Drawer -->
    <div class="modal-backdrop"
         x-show="modals.buyDrawer"
         x-transition:enter="transition-fade fade-enter-start"
         x-transition:enter-end="fade-enter-end"
         x-transition:leave="transition-fade fade-leave-start"
         x-transition:leave-end="fade-leave-end"
         @click="modals.buyDrawer = false"
         x-cloak>
    </div>
    <div class="drawer-content"
         x-show="modals.buyDrawer"
         x-transition:enter="transition-slide-right slide-right-enter-start"
         x-transition:enter-end="slide-right-enter-end"
         x-transition:leave="transition-slide-right slide-right-leave-start"
         x-transition:leave-end="slide-right-leave-end"
         role="dialog" aria-modal="true" aria-labelledby="buy-drawer-title"
         x-trap.noscroll="modals.buyDrawer"
         x-cloak>
        
        <div class="drawer-header">
            <h3 id="buy-drawer-title">Purchase Yew X1</h3>
            <button class="modal-close-btn" @click="modals.buyDrawer = false" aria-label="Close Drawer" style="position: static;">
                <svg class="icon"><use xlink:href="#icon-x"></use></svg>
            </button>
        </div>
        
        <div class="drawer-body">
            <div style="display: flex; gap: 1.5rem; align-items: flex-start; margin-bottom: 2rem;">
                <img src="https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png" alt="Yew X1" style="width: 100px; border-radius: 8px; background: var(--panel);">
                <div>
                    <h4>Yew X1</h4>
                    <p class="hero-offer" style="font-size: 1.25rem;">
                        <span style="font-size: 1rem;">$1,049.00</span>
                        <strong>$899.00</strong>
                    </p>
                    <p class="text-sm" x-text="content.hero.atome" style="margin:0;"></p>
                </div>
            </div>
            
            <div class="wizard-summary" style="margin-bottom: 2rem;">
                <h4>Your Selections</h4>
                <p>Door Type: <strong x-text="wizard.doorType || 'Not set'"></strong></p>
                <p>Handle Side: <strong x-text="wizard.handleSide || 'Not set'"></strong></p>
                <p>Gate Sync: <strong x-text="wizard.gateSync || 'Not set'"></strong></p>
                <button v-if="!wizard.doorType" @click="modals.buyDrawer = false; modals.wizard = true" class="btn btn-outline" style="font-size: 0.875rem; padding: 0.5rem 1rem; margin-top: 1rem;">Run Compatibility Wizard</button>
            </div>
            
            <form id="buy-form">
                <div class="form-group">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" id="name" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="phone" class="form-label">Phone</label>
                    <input type="tel" id="phone" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="address" class="form-label">Installation Address</label>
                    <input type="text" id="address" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="install_date" class="form-label">Preferred Install Date</label>
                    <input type="date" id="install_date" class="form-input">
                </div>
                <div class="form-group">
                    <label for="notes" class="form-label">Notes (Optional)</label>
                    <textarea id="notes" class="form-input" rows="3"></textarea>
                </div>
            </form>
        </div>
        
        <div class="drawer-footer">
            <a :href="content.links.checkout" @click="trackLead('checkout')" class="btn btn-primary" style="width: 100%; text-align: center;">
                Proceed to Checkout
            </a>
            <small style="display: block; text-align: center; margin-top: 1rem;">
                Or <a :href="whatsappLink()" @click="trackLead('whatsapp')" target="_blank" style="font-weight: 500;">confirm via WhatsApp</a>
            </small>
        </div>
    </div>
    
    <!-- Sticky Purchase Bar -->
    <div class="sticky-purchase-bar no-print" :class="{ 'visible': isScrolled }">
        <div class="container">
            <div class="sticky-product-info">
                <img src="https://yewdigitallock.com.sg/wp-content/uploads/2025/10/Yew-X1-Digital-Lock.png" alt="Yew X1">
                <div>
                    <div class="sticky-product-name" x-text="content.productName"></div>
                    <div class="price" x-text="content.hero.offer.split('→')[1]"></div>
                </div>
            </div>
            <div class="sticky-options">
                <span class="sticky-option-pill" :class="{'set': wizard.doorType}" x-text="wizard.doorType || 'Door Type?'"></span>
                <span class="sticky-option-pill" :class="{'set': wizard.handleSide}" x-text="wizard.handleSide || 'Handle?'"></span>
            </div>
            <div class="btn-group">
                <a :href="whatsappLink()" @click="trackEvent('contact', {method:'whatsapp', product: content.productName, context: 'sticky_bar'})" target="_blank" class="btn btn-outline">WhatsApp</a>
                <button @click="openBuyDrawer('sticky_bar')" class="btn btn-primary">Buy Now</button>
            </div>
        </div>
    </div>

    <!-- Consent Banner -->
    <div class="consent-banner no-print"
         x-show="modals.consent"
         x-transition:enter="transition-slide-up slide-up-enter-start"
         x-transition:enter-end="slide-up-enter-end"
         x-transition:leave="transition-slide-up slide-up-leave-start"
         x-transition:leave-end="slide-up-leave-end"
         x-cloak>
        <div class="panel" style="background: var(--panel-heavy);">
            <p class="text-sm">We use cookies to enhance your experience and for analytics. By continuing, you agree to our use of cookies.</p>
            <button class="btn btn-primary" @click="modals.consent = false" style="width: 100%;">Accept</button>
        </div>
    </div>

    <!-- 
      MAIN JAVASCRIPT LOGIC (ALPINE.JS)
    -->
    <script>
        function productPage() {
            return {
                // --- STATE ---
                content: {},
                variant: window.__variant || 'A',
                isScrolled: false,
                activeFAQ: null,
                modals: {
                    wizard: false,
                    buyDrawer: false,
                    consent: true // Show consent by default
                },
                wizard: {
                    step: 1,
                    doorType: null,
                    handleSide: null,
                    gateSync: null
                },
                calculator: {
                    locksmithCost: 150,
                    lockoutsPerYear: 1,
                    rekeyCost: 80,
                    missedDeliveryCost: 25,
                    controlledAccessValue: 50,
                    lifetime: 5
                },
                
                // --- INIT ---
                init() {
                    // Load content from JSON CMS
                    try {
                        this.content = JSON.parse(document.getElementById('pageContent').textContent);
                        // Set calculator defaults from CMS
                        this.calculator = this.content.calculator.defaults;
                    } catch (e) {
                        console.error("Failed to load page content:", e);
                    }
                    
                    // Load wizard data from localStorage
                    try {
                        const savedWizard = localStorage.getItem('yew_x1_wizard');
                        if (savedWizard) {
                            this.wizard = { ...this.wizard, ...JSON.parse(savedWizard), step: 1 };
                        }
                    } catch (e) {
                        console.warn("Could not load wizard data:", e);
                    }

                    // Load calculator data from sessionStorage
                    try {
                        const savedCalc = sessionStorage.getItem('yew_x1_calc');
                        if (savedCalc) {
                            this.calculator = { ...this.calculator, ...JSON.parse(savedCalc) };
                        }
                    } catch (e) {
                        console.warn("Could not load calculator data:", e);
                    }

                    // Load consent state
                    try {
                        const consentGiven = localStorage.getItem('yew_x1_consent');
                        if (consentGiven) {
                            this.modals.consent = false;
                        }
                    } catch (e) {}

                    // --- WATCHERS ---
                    this.$watch('wizard', (val) => {
                        try {
                            // Don't save step
                            const { step, ...dataToSave } = val;
                            localStorage.setItem('yew_x1_wizard', JSON.stringify(dataToSave));
                        } catch (e) {
                            console.warn("Failed to save wizard data:", e);
                        }
                    });
                    
                    this.$watch('calculator', (val) => {
                        try {
                            sessionStorage.setItem('yew_x1_calc', JSON.stringify(val));
                        } catch (e) {
                            console.warn("Failed to save calculator data:", e);
                        }
                    });
                    
                    this.$watch('modals.consent', (val) => {
                        if (val === false) { // User clicked accept
                            try {
                                localStorage.setItem('yew_x1_consent', 'true');
                            } catch (e) {}
                        }
                    });
                },
                
                // --- COMPUTED PROPERTIES ---
                get year1Savings() {
                    return (this.calculator.locksmithCost * this.calculator.lockoutsPerYear) + this.calculator.missedDeliveryCost;
                },
                
                get tco() {
                    const totalSavings = (this.year1Savings + this.calculator.controlledAccessValue) * this.calculator.lifetime;
                    return totalSavings - 899; // 899 is the product price
                },
                
                get payback() {
                    const annualSavings = this.year1Savings + this.calculator.controlledAccessValue;
                    if (annualSavings <= 0) return 0;
                    return (899 / annualSavings).toFixed(1);
                },

                whatsappLink(context = 'enquiry') {
                    let base = this.content.links.whatsapp || "https://wa.me/65XXXXXXXX";
                    let msg = `I'm interested in the Yew X1 ($899.00).\n\n`;
                    
                    if(context === 'reference') {
                        msg = `I'm interested in the Yew X1 and would like to request some owner references.\n\n`;
                    }
                    
                    if (this.wizard.doorType) {
                        msg += "My Compatibility Summary:\n";
                        msg += `Door Type: ${this.wizard.doorType}\n`;
                        msg += `Handle Side: ${this.wizard.handleSide}\n`;
                        msg += `Gate Sync: ${this.wizard.gateSync}\n`;
                    } else {
                        msg += "I haven't completed the compatibility wizard yet.";
                    }
                    
                    return `${base}&text=${encodeURIComponent(msg)}`;
                },

                // --- METHODS ---
                openBuyDrawer(context) {
                    this.modals.buyDrawer = true;
                    window.trackEvent('begin_checkout', {
                        items: [{ id: 'YEW-X1', name: this.content.productName, price: 899, currency: 'SGD' }],
                        context: context
                    });
                },
                
                trackLead(method) {
                    const isCheckout = method === 'checkout';
                    window.trackEvent('generate_lead', {
                        value: 899,
                        currency: 'SGD',
                        source: 'drawer',
                        method: method
                    });
                    
                    // Fire conversion event
                    window.trackEvent('experiment_conversion', {
                        experiment: 'hero_media'
                    });
                    
                    if(isCheckout) {
                        // This would be a real form submission, but for demo we just link
                        // document.getElementById('buy-form').submit();
                    }
                },
                
                animatedCount(target, start = 0, duration = 1000, decimals = 0) {
                    // This is a simple animation stub for Alpine
                    // A real implementation would use a transition or tweening library
                    // For now, just return the target formatted.
                    return target.toFixed(decimals);
                }
            }
        }
    </script>
</body>
</html>
