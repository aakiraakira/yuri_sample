<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EinnaLab - Deer Placenta Product Page</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        /* Custom styles for the Poppins font and smooth transitions */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        /* Styles for the quick add modal transition */
        #quickAddModal {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease;
        }

        #modalBackdrop {
            transition: opacity 0.4s ease;
        }
        
        /* Custom red color from the client's screenshot */
        .brand-red {
            color: #D01717;
        }
        .bg-brand-red {
            background-color: #D01717;
        }
        .border-brand-red {
            border-color: #D01717;
        }

        /* Style for selected variant */
        .variant-option.selected {
           border-color: #D01717;
           background-color: rgba(208, 23, 23, 0.05);
        }
        .variant-option.selected .radio-circle {
            border-color: #D01717;
        }
        .variant-option.selected .radio-circle::after {
            transform: scale(1);
            background-color: #D01717;
        }
        .radio-circle {
            transition: all 0.2s ease;
        }
        .radio-circle::after {
            content: '';
            display: block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.2s ease;
        }

    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <!-- App Container -->
    <div id="app" class="relative w-full max-w-7xl mx-auto p-4">
        
        <!-- Product Section -->
        <section id="product-section" class="bg-white rounded-2xl shadow-lg p-8 md:p-12">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Deer Placenta 30,000mg</h1>
                <p class="mt-4 text-lg text-gray-500 max-w-2xl mx-auto">A premium supplement designed for rejuvenation and vitality. Choose your package below to begin.</p>
                <div class="mt-8 flex justify-center">
                     <img src="https://einnalab.com/wp-content/uploads/2023/11/EiNNALAB-Deer-Placenta-30000mg-Front-10-Bot-768x480.jpg" alt="Deer Placenta Bottles" class="max-w-md w-full rounded-lg">
                </div>
                <div class="mt-8">
                    <button id="openModalBtn" class="bg-gray-800 hover:bg-gray-900 text-white font-bold py-4 px-10 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-md">
                        Choose Package & Add to Cart
                    </button>
                </div>
            </div>
        </section>

        <!-- Quick Add Modal -->
        <div id="modalBackdrop" class="fixed inset-0 bg-black/60 z-40 opacity-0 pointer-events-none"></div>
        <div id="quickAddModal" class="fixed bottom-0 left-0 right-0 bg-[#1C1C1E] text-white z-50 transform translate-y-full pointer-events-none rounded-t-2xl max-w-xl mx-auto shadow-2xl">
            <div class="p-5 md:p-6">
                <!-- Modal Header -->
                <div class="flex justify-between items-center pb-4 border-b border-gray-700">
                    <img src="https://einnalab.com/wp-content/uploads/2021/10/einna-logo-300x56.png" alt="EinnaLab Logo" class="h-8 w-auto">
                    <button id="closeModalBtn" class="text-gray-400 hover:text-white transition">
                        <i data-feather="x" class="w-7 h-7"></i>
                    </button>
                </div>

                <!-- Product Info -->
                <div class="flex items-center space-x-4 py-5">
                    <img id="modalProductImage" src="https://einnalab.com/wp-content/uploads/2023/11/EiNNALAB-Deer-Placenta-30000mg-DarkRed-Front-768x614.png" alt="Deer Placenta" class="w-24 h-24 object-contain rounded-md bg-white p-1">
                    <div>
                        <p class="font-bold text-xl">Deer Placenta</p>
                        <p id="modalProductPrice" class="text-lg text-gray-300">$140.00</p>
                    </div>
                </div>

                <!-- Variant Selection -->
                <div class="space-y-3">
                    <p class="font-semibold text-gray-400 text-sm">SELECT PACKAGE</p>
                    <div id="variant-options-container" class="space-y-3">
                        <!-- Variants will be injected here -->
                    </div>
                </div>

                <!-- Add to Bag Button -->
                <div class="mt-6">
                    <button id="addToCartBtn" class="w-full bg-brand-red hover:opacity-90 text-white font-bold py-4 px-6 rounded-lg transition duration-300 text-lg">
                        Add to Bag
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Feather Icons ---
            feather.replace();

            // --- Product Data ---
            const productData = {
                name: "Deer Placenta",
                variants: [
                    {
                        id: 1,
                        name: "1 Bottle",
                        price: 140,
                        totalBottles: 1,
                        image: "https://einnalab.com/wp-content/uploads/2023/11/EiNNALAB-Deer-Placenta-30000mg-DarkRed-Front-768x614.png",
                        tag: null,
                    },
                    {
                        id: 2,
                        name: "2 Bottles + 1 FREE",
                        price: 280,
                        totalBottles: 3,
                        image: "https://einnalab.com/wp-content/uploads/2023/11/EiNNALAB-Deer-Placenta-30000mg-DarkRed-Front-768x614.png",
                        tag: "Most Popular",
                    },
                    {
                        id: 3,
                        name: "10 Bottles + 4 FREE",
                        price: 900,
                        totalBottles: 14,
                        image: "https://einnalab.com/wp-content/uploads/2023/11/EiNNALAB-Deer-Placenta-30000mg-Front-10-Bot-768x480.jpg",
                        tag: "Best Value",
                    }
                ]
            };

            // --- DOM Elements ---
            const openModalBtn = document.getElementById('openModalBtn');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const quickAddModal = document.getElementById('quickAddModal');
            const modalBackdrop = document.getElementById('modalBackdrop');
            const variantOptionsContainer = document.getElementById('variant-options-container');
            const modalProductImage = document.getElementById('modalProductImage');
            const modalProductPrice = document.getElementById('modalProductPrice');
            const addToCartBtn = document.getElementById('addToCartBtn');
            
            let selectedVariantId = 1;

            // --- Functions ---
            function calculateValue(variant) {
                const pricePerBottle = (variant.price / variant.totalBottles).toFixed(2);
                let valueText = `($${pricePerBottle}/bottle)`;
                if (variant.totalBottles > 1) {
                     valueText = `You get ${variant.totalBottles} bottles total. ${valueText}`;
                }
                return valueText;
            }

            function renderVariants() {
                variantOptionsContainer.innerHTML = productData.variants.map(variant => `
                    <div class="variant-option border-2 border-gray-700 rounded-lg p-4 cursor-pointer transition ${variant.id === selectedVariantId ? 'selected' : ''}" data-variant-id="${variant.id}">
                        <div class="flex items-center justify-between">
                            <div class="flex-grow">
                                <div class="flex items-center space-x-3">
                                    <span class="font-semibold text-lg">${variant.name}</span>
                                    ${variant.tag ? `<span class="bg-brand-red text-white text-xs font-bold px-2 py-1 rounded-md">${variant.tag}</span>` : ''}
                                </div>
                                <p class="text-sm text-gray-400 mt-1">${calculateValue(variant)}</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <p class="font-bold text-lg">$${variant.price.toFixed(2)}</p>
                                <div class="radio-circle w-6 h-6 border-2 border-gray-500 rounded-full flex items-center justify-center"></div>
                            </div>
                        </div>
                    </div>
                `).join('');

                // Add event listeners after rendering
                document.querySelectorAll('.variant-option').forEach(el => {
                    el.addEventListener('click', () => {
                        selectedVariantId = parseInt(el.dataset.variantId);
                        updateModalContent();
                        renderVariants(); // Re-render to update selection style
                    });
                });
            }
            
            function updateModalContent() {
                const selectedVariant = productData.variants.find(v => v.id === selectedVariantId);
                if (selectedVariant) {
                    modalProductImage.src = selectedVariant.image;
                    modalProductPrice.textContent = `$${selectedVariant.price.toFixed(2)}`;
                }
            }

            function openModal() {
                selectedVariantId = 1; // Reset to default on open
                updateModalContent();
                renderVariants();
                modalBackdrop.classList.remove('opacity-0', 'pointer-events-none');
                quickAddModal.classList.remove('translate-y-full', 'pointer-events-none');
                document.body.style.overflow = 'hidden';
            }

            function closeModal() {
                modalBackdrop.classList.add('opacity-0', 'pointer-events-none');
                quickAddModal.classList.add('translate-y-full', 'pointer-events-none');
                document.body.style.overflow = 'auto';
            }
            
            function handleAddToCart() {
                addToCartBtn.textContent = 'Added to Bag!';
                addToCartBtn.classList.remove('bg-brand-red');
                addToCartBtn.classList.add('bg-green-600');

                setTimeout(() => {
                    closeModal();
                    // Reset button after modal is closed
                    setTimeout(() => {
                        addToCartBtn.textContent = 'Add to Bag';
                        addToCartBtn.classList.remove('bg-green-600');
                        addToCartBtn.classList.add('bg-brand-red');
                    }, 400);
                }, 1200);
            }

            // --- Event Listeners ---
            openModalBtn.addEventListener('click', openModal);
            closeModalBtn.addEventListener('click', closeModal);
            modalBackdrop.addEventListener('click', closeModal);
            addToCartBtn.addEventListener('click', handleAddToCart);

        });
    </script>
</body>
</html>

